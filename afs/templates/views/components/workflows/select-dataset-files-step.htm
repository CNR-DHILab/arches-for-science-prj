{% extends "views/components/iiif-viewer.htm" %}
{% load staticfiles %}
{% load i18n %}

{% block tabs %}
<div class="workbench-card-sidebar-tab" data-bind="click: function() {
    toggleTab('dataset');
}, css: {
    'active': activeTab() === 'dataset'
}">
    <i class="fa fa-book"></i>
    <span class="map-sidebar-text">{% trans "Dataset" %}</span>
</div>
{{ block.super }}
{% endblock tabs %}

{% block sidepanel %}
<!--ko foreach: { data: [$data], as: 'self' }-->
<!--ko if: activeTab() === 'dataset'-->
<div class="workbench-header-buffer">
    <div class="workbench-card-sidepanel-header-container">
        <h4 class="workbench-card-sidepanel-header" data-bind="click: hideSidePanel">{% trans 'Manage Dataset' %}</h4>
    </div>
</div>

<div class="iiif-image-tools" style="margin-top: 20px;">
    <!--ko if: annotations().length > 0-->
    <label class="control-label">{% trans "Sampled Locations" %}</label>
    <input type="text" class="form-control" style="width: 100%;" placeholder="Filter" data-bind="textInput: annotationFilter">
    <div class="file-workbench-files" data-bind="foreach: {data: annotations, as: 'annotation'}">
        <!--ko if: self.annotationFilter() === "" || annotation.data[self.annotationNameNodeId].toLowerCase().includes(self.annotationFilter().toLowerCase()) -->
        <div class='file-workbench-file' style="display: inline-flex;" data-bind="css: {staged: annotation.tileid === self.selectedAnnotation().tileid }">
            <span class='file-name manifest-manager-canvas-name' data-bind="text: annotation.data[self.annotationNameNodeId], click: function(){self.selectedAnnotation(annotation)}, clickBubble: false"></span>
        </div>
        <!--/ko-->
    </div>
    <!--/ko-->

</div>
<!--/ko-->
<!--/ko-->
{{ block.super }}
{% endblock sidepanel %}
