{% load i18n %}

<div style="display:flex; flex-wrap: wrap">
    <div style="border: solid 1px #ddd; flex: 0 0 100%;margin-bottom: 50px">
        <div class="iiif-leaflet" data-bind="leaflet: leafletConfig" style="height: 500px;"></div>
    </div>
    <div style="flex: 0 0 100%">
        <div class="afs-table pad-btm">
            <!-- ko if: type === 'physical-thing' -->
            <table class="table table-striped" cellspacing="0" width="100%">
                <thead>
                    <tr class="afs-table-header">
                        <th>{% trans "Region Name" %}</th>
                        <th>{% trans "Part of Object" %}</th>
                        <th class="min-tabletl">{% trans "Annotator" %}</th>
                        <th class="none">{% trans "Assigned Property Type" %}</th>
                        <th class="none">{% trans "Geometric Annotation Identifier" %}</th>
                        <th class="afs-table-control all"></th>
                    </tr>
                </thead>
                <tbody data-bind="dataTablesForEach: { data: annotation.info, as: 'part', dataTableOptions: annotationTableConfig }">
                    <tr>
                        <td>
                            <div data-bind="text: part.label"></div>
                        </td>
                        <td>
                            <a data-bind="text: $parent.getNodeValue(part.physicalPartOfObject), attr: {href: $parent.getResourceLink(part.physicalPartOfObject)}"></a>
                        </td>
                        <td>
                            <a data-bind="text: $parent.getNodeValue(part.annotator), attr: {href: $parent.getResourceLink(part.annotator)}"></a>
                        </td>
                        <td data-bind="text: part.assignedPropertyType"></td>
                        <td data-bind="text: part.geometricAnnotationIdentifier"></td>
                        <td style="width: 110px;" class="afs-table-control">
                            <div">
                            <div style="display:inline" data-bind="if: annotation.card && annotation.card">
                                <a style="display:inline" data-bind="click: function() {$parent.editTile(part.tileId, annotation.card)}">
                                    <i style="display:inline" class="fa fa-mail-reply"></i>
                                </a>
                                <a style="display:inline" data-bind="click: function() {$parent.deleteTile(part.tileId, annotation.card)}">
                                    <i style="display:inline" class="fa fa-trash"></i>
                                </a>
                            </div>
                            <a style="display:inline" data-bind="click: function(){$parent.highlightAnnotation(part.tileId)}">
                                <i class="fa fa-globe"></i>
                            </a>
                            <i style="display:inline" data-bind="visible: $parent.selectedAnnotationTileId() === part.tileId" class="fa fa-arrow-left"></i>
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
            <!-- /ko -->
            <!-- ko if: type === 'sampling-activity' -->
            <table class="table table-striped" cellspacing="0" width="100%">
                <thead>
                    <tr class="afs-table-header">
                        <th>{% trans "Sampling Area" %}</th>
                        <th>{% trans "Sample Created" %}</th>
                        <th>{% trans "Overall Object" %}</th>
                        <th class="afs-table-control all"></th>
                    </tr>
                </thead>
                <tbody data-bind="dataTablesForEach: { data: annotation.info, as: 'part', dataTableOptions: annotationTableConfig }">
                    <tr>
                        <td>
                            <div data-bind="text: part.samplingArea"></div>
                        </td>
                        <td>
                            <div data-bind="text: part.sampleCreated"></div>
                        </td>
                        <td>
                            <div data-bind="text: part.overallObjectSampled"></div>
                        </td>
                        <td style="width: 110px;" class="afs-table-control">
                            <div">
                            <div style="display:inline" data-bind="if: annotation.card && annotation.card">
                                <a style="display:inline" data-bind="click: function() {$parent.editTile(part.tileId, annotation.card)}">
                                    <i style="display:inline" class="fa fa-mail-reply"></i>
                                </a>
                                <a style="display:inline" data-bind="click: function() {$parent.deleteTile(part.tileId, annotation.card)}">
                                    <i style="display:inline" class="fa fa-trash"></i>
                                </a>
                            </div>
                            <a style="display:inline" data-bind="click: function(){$parent.highlightAnnotation(part.tileId)}">
                                <i class="fa fa-globe"></i>
                            </a>
                            <i style="display:inline" data-bind="visible: $parent.selectedAnnotationTileId() === part.tileId" class="fa fa-arrow-left"></i>
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
            <!-- /ko -->
        </div>
        <div class="final-step-section-block-item">
            <div class="block-item files-metadata">
                <div class="summary-value" data-bind='text: "{% trans 'Regions of Interest: ' %}" + annotation.info.length'></div>
            </div>
        </div>
    </div>
    </div>
<div>
